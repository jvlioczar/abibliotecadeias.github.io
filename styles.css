html, body{margin:0;padding:0;}

/* --- Stability: prevent horizontal nudge when content height changes --- */
html{
  /* Reserve space for the vertical scrollbar to avoid content width shifts */
  scrollbar-gutter: stable;
}
@supports not (scrollbar-gutter: stable) {
  html{ overflow-y: scroll; } /* Fallback for older engines */
}
/* Avoid accidental horizontal jitter due to subpixel overflows */
body{ overflow-x: hidden; }


:root{
  --control-h: 38px;
  --bg:#0e1117;
  --bg-soft:#12161f;
  --text:#e6edf3;
  --muted:#a9b3c1;
  --accent1:#00c4ff;
  --accent2:#5b42f3;
  --accent3:#b445ff;
  --border:#1a2130;
  --border-strong:#0a0d13;
  --chip:#151a22;
  --chip-border:#20283a;
  --shadow-hi: rgba(255,255,255,0.05);
  --shadow-lo: rgba(0,0,0,0.6);
}

/* Light theme overrides */
:root[data-theme="light"]{
  --control-h: 38px;
  --bg:#f6f8fb;
  --bg-soft:#ffffff;
  --text:#0b1220;
  --muted:#495266;
  --accent1:#4f7cff;
  --accent2:#7a5cff;
  --accent3:#b445ff;
  --border:#dbe2ee;
  --border-strong:#cfd8e8;
  --chip:#f3f6fb;
  --chip-border:#e3e9f4;
  --shadow-hi: rgba(255,255,255,0.9);
  --shadow-lo: rgba(0,0,0,0.10);
}

*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font:14px/1.5 "TASA Explorer", ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;}

/* Global container keeps inner content aligned */
.container{max-width:1100px;margin:0 auto;padding:22px}

/* Full-width sticky header */
.site-header{
  position: sticky; top:0; z-index:30; width:100%;
  background: color-mix(in oklab, var(--bg) 92%, transparent);
  backdrop-filter: blur(6px);
  border-bottom: 1px solid var(--border-strong);
}
.header-inner{ display:flex; flex-wrap:wrap; gap:12px; justify-content:space-between; align-items:center; padding-top:12px; padding-bottom:10px; }

.brand-wrap {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.brand {
  margin: 0;
  font-size: 31.6px;
  letter-spacing: .5px;
  line-height: 1;
  display: inline-flex;   /* título e selo lado a lado */
  align-items: center;    /* centraliza verticalmente */
  gap: 6px;               /* espaço entre título e beta */
}

.brand a {
  text-decoration: none;   /* tira o sublinhado */
  color: inherit;          /* usa a cor do elemento pai/span */
}

.brand-gradient {
  background: linear-gradient(90deg, var(--accent1), var(--accent2), var(--accent3));
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  /* Logo: blur-to-focus + passing shine */
  /* Two background layers: [shine sweep] over [brand gradient] */
  background-image:
    linear-gradient(120deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.9) 45%, rgba(255,255,255,0) 60%),
    linear-gradient(90deg, var(--accent1), var(--accent2), var(--accent3));
  background-size: 22% 100%, 100% 100%;
  background-position: -40% 0, 0 0;
  background-repeat: no-repeat;
  animation: logoFocus .85s ease-out 0s both, logoShine 1.1s ease-in-out .9s both;
  will-change: filter, opacity, background-position;
}

.byline {
  font-size: 12px;
  color: var(--muted);
}

.byline .bylink {
  color: inherit;
  text-decoration: none;
  border-bottom: 1px dashed var(--muted);
  opacity: .85;
}

.byline .bylink:hover {
  opacity: 1;
}

/* Selo BETA */
.beta-badge {
  display: inline-flex;
  align-items: center;
  font-size: 11px;
  font-weight: 700;
  padding: 2px 8px;
  border-radius: 8px;
  background: linear-gradient(90deg, var(--accent1), var(--accent2), var(--accent3));
  color: #fff;
  transform: translateY(4px); 
}

.beta-badge .beta-icon {
  width: 10px;
  height: 10px;
  fill: currentColor;
}

.controls{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
.mono{font-family:"TASA Explorer", ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;}
input[type="search"], select{
  background: var(--bg-soft); color: var(--text); border: 1px solid var(--border);
  height: var(--control-h); padding: 0 12px; border-radius: 14px; outline: none; min-width: 220px;
  box-shadow: -3px -3px 6px var(--shadow-hi), 5px 5px 10px var(--shadow-lo);
  font-family:"TASA Explorer", ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
}
select{min-width:180px}
.control-group{display:flex;gap:8px;align-items:center}
.toggle{
  background:var(--bg-soft); color:var(--text); border:1px solid var(--border);
  height: var(--control-h); padding: 0 12px; border-radius:14px; cursor:pointer;
  box-shadow: -3px -3px 6px var(--shadow-hi), 5px 5px 10px var(--shadow-lo);
  display:inline-flex; align-items:center; justify-content:center;
}
.toggle:active{ transform: translateY(1px); }

/* Categories & grid */
.category{margin:18px 0}
.category h2{margin:12px 4px;font-size:20px;color:#cfe7ff;opacity:.9}

/* Category heading icon */
.category h2 { display:flex; align-items:center; gap:8px; }
.cat-ico{ font-size:20px; line-height:1; display:inline-flex; align-items:center; justify-content:center; }

:root[data-theme="light"] .category h2{ color:#354f7a; opacity:0.9; }

.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px}

/* Cards */
.card{
  background: var(--bg-soft);
  border: 1px solid var(--border-strong);
  border-radius: 18px;
  padding: 12px;
  min-height: 90px;
  box-shadow:-3px -3px 6px var(--shadow-hi), 5px 5px 10px var(--shadow-lo);
  transition: transform .08s ease, box-shadow .12s ease;
}
.card:hover{ transform: translateY(-2px); box-shadow:-4px -4px 8px var(--shadow-hi), 6px 6px 12px var(--shadow-lo); }

.card .title-line{ position:relative; padding-right:28px; min-height:22px; margin:0 0 4px 0; font-size:15px; font-weight:700; letter-spacing:.2px; display:flex; align-items:center; gap:8px; white-space:normal; overflow:visible; text-overflow:clip; }
.title-line .paren{ font-weight:400; opacity:.9; }
.card .subtitle{ margin:0 0 8px 0; font-size:12px; color: var(--muted); font-weight:400; }

.card .actions{ display:flex; gap:0; flex-wrap:wrap; }
.card .btn, .card .visit, .btn{
  display:inline-block; padding:6px 10px; border-radius:12px;
  border:none; background: #0f1520; color: var(--text);
  text-decoration:none; font-size:12px; margin:0;
  box-shadow: -2px -2px 4px var(--shadow-hi), 3px 3px 6px var(--shadow-lo);
  transition: transform .12s ease, box-shadow .12s ease, background .2s ease;
}
:root[data-theme="light"] .card .btn, :root[data-theme="light"] .card .visit, :root[data-theme="light"] .btn{ background:#e7eaf3; color:#182033; }
.card .btn:hover, .card .visit:hover, .btn:hover{
  transform: translateY(-1px) scale(1.02);
  background: linear-gradient(90deg,var(--accent1),var(--accent2));
  box-shadow: -3px -3px 6px var(--shadow-hi), 5px 5px 10px var(--shadow-lo);
}

/* Favicons */
.favicon{ width:20px; height:20px; flex:0 0 20px; border-radius:6px; overflow:hidden; display:inline-flex; align-items:center; justify-content:center; background: var(--bg); border:1px solid var(--border); box-shadow: inset -1px -1px 2px var(--shadow-hi), inset 1px 1px 2px var(--shadow-lo); }
.favicon img{ width:100%; height:100%; display:block }

/* Dark theme: white background behind favicons for better contrast */
:root[data-theme="dark"] .favicon{
  background: #ffffff;
}

.favicon.fallback{ font-size:10px; color:var(--muted); }

/* Footer */
.footer{
  margin:28px 0 10px; opacity:.95; font-size:13px; text-align:center;
  border-top:1px solid var(--border-strong); padding-top:16px;
}
.footer-inner{ display:flex; flex-direction:column; gap:10px; align-items:center }
.footer-actions{ display:flex; gap:8px; flex-wrap:wrap; justify-content:center }
.footer .btn.linkedin { 
  background:#0A66C2; 
  color:#fff; 
}
.btn.linkedin:hover{ 
  background: linear-gradient(90deg,#0A66C2,#5b8bd6); 
}

.footer .btn.share { 
  background:#b445ff; 
  color:#fff; 
}
.btn.share:hover{ 
  background: linear-gradient(90deg,#0A66C2,#5b8bd6); 
}

.footer-count {
  opacity:.8;
  font-size:12px;
  border-bottom: 1px solid var(--border-strong);
  padding-bottom: 10px;
  margin-bottom: 10px;
  width: 100%;
  text-align: center;
}

kbd{ background:#101725; padding:2px 6px; border-radius:6px; border:1px solid #2e3a4f; font-size:11px; }
:root[data-theme="light"] kbd{ background:#e8eefb; border-color:#d5dff2; color:#1a2a45; }

@media (max-width:600px){ .container{padding:16px} .brand{font-size:20px} }


/* Extra spacing between subtitle and action button */
.card .actions{ margin-top: 8px; }

/* Card entry animation */
@keyframes cardIn {
  from { opacity: 0; transform: translateY(6px); }
  to   { opacity: 1; transform: translateY(0); }
}
.card{ opacity: 0; animation: cardIn .28s ease both; }


/* Extra spacing between title and link buttons */
.card .actions{ margin-top: 14px; }

/* Ensure gradient hover in light theme too */
:root[data-theme="light"] .card .btn:hover,
:root[data-theme="light"] .card .visit:hover,
:root[data-theme="light"] .btn:hover{
  background: linear-gradient(90deg,var(--accent1),var(--accent2));
}

/* Identity font on buttons */
.btn, .visit{ font-family: "TASA Explorer", ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }

/* Footer project name bold already <strong>; just ensure style inherits */
.footer .proj-name{ font-weight: 700; }


/* Info tooltip */
.info{ position: relative; }
.info-btn{ display:inline-flex; align-items:center; justify-content:center; }
.tooltip{
  position:absolute; top:110%; right:0;
  min-width: 260px; max-width: 320px;
  background: var(--bg-soft); color: var(--text);
  border:1px solid var(--border); border-radius:12px;
  padding:10px 12px;
  box-shadow: -4px -4px 8px var(--shadow-hi), 6px 6px 12px var(--shadow-lo);
  font-size:12px; line-height:1.4;
  font-family:"TASA Explorer", ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  opacity:0; transform: translateY(-4px);
  transition: opacity .15s ease, transform .15s ease;
  z-index: 40; pointer-events: none;
}
.info:hover .tooltip, .info:focus-within .tooltip{
  opacity:1; transform: translateY(0); pointer-events: auto;
}
.tooltip strong{ display:block; margin-bottom:6px; font-weight:700; }


/* Improve select arrow spacing and custom arrow */
select{
  appearance:none;
  -webkit-appearance:none;
  -moz-appearance:none;
  padding-right: 34px; /* room for arrow */
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='%23e6edf3'><path d='M7 10l5 5 5-5H7z'/></svg>");
  background-repeat: no-repeat;
  background-position: right 16px center;
}
:root[data-theme="light"] select{
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='%230b1220'><path d='M7 10l5 5 5-5H7z'/></svg>");
}

/* Increase spacing before action buttons a bit more */
.card .actions{ margin-top: 12px; }

/* Ensure hover gradient active in light theme as well */
:root[data-theme="light"] .btn:hover,
:root[data-theme="light"] .visit:hover{
  background: linear-gradient(90deg,var(--accent1),var(--accent2));
}

/* Share button and toggles use brand mono font */
.btn, .toggle, .visit, .mono{
  font-family:"TASA Explorer", ui-monospace, SFMono-Regular, Menlo, Consolas, monospace !important;
}

/* Info tooltip */
.toggle.info{ padding:8px 10px; }
.infotooltip{
  position:absolute; right:0; top:100%; transform: translateY(8px);
  background: var(--bg-soft); color: var(--text); border:1px solid var(--border);
  box-shadow: -3px -3px 6px var(--shadow-hi), 5px 5px 10px var(--shadow-lo);
  border-radius: 12px; padding:10px 12px; min-width: 260px; max-width: 320px; text-align:left; white-space:pre-wrap;
  display:none; z-index:50;
  font-size:12px; line-height:1.4;
}
.control-group{ position: relative; } /* anchor for tooltip */
.control-group:hover #infoTip[aria-hidden="false"]{ display:block; }


/* Unified control sizes for identity */
:root{
  --ctrl-h: 38px;
  --ctrl-radius: 14px;
  --ctrl-pad-x: 12px;
  --ctrl-arrow-x: 16px;
}
.controls .mono,
.controls .toggle,
.controls select{
  font-family:"TASA Explorer", ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
}
.controls input[type="search"]{
  height: var(--ctrl-h);
  padding: 0 var(--ctrl-pad-x);
  border-radius: var(--ctrl-radius);
  display:inline-flex; align-items:center;
}
.controls select{
  height: var(--ctrl-h);
  line-height: var(--ctrl-h);
  padding: 0 calc(var(--ctrl-pad-x) + 22px) 0 var(--ctrl-pad-x);
  border-radius: var(--ctrl-radius);
  background-position: right var(--ctrl-arrow-x) center;
}
.controls .toggle{
  height: var(--ctrl-h);
  padding: 0 var(--ctrl-pad-x);
  border-radius: var(--ctrl-radius);
  display:inline-flex; align-items:center; justify-content:center;
}


/* Featured star badge */
.title-line{ display:flex; align-items:center; gap:8px; }
.featured-star{ position:absolute; right:0; top:0;
  margin-left:auto;
  display:inline-flex; align-items:center; justify-content:center;
  width:22px; height:22px; border-radius:8px;
  font-size:12px; line-height:1;
  color:#ffd34d;
  border:1px solid var(--border-strong);
  background: var(--bg-soft);
  box-shadow: inset 1px 1px 2px var(--shadow-lo), inset -1px -1px 2px var(--shadow-hi);
}
:root[data-theme="light"] .featured-star{ position:absolute; right:0; top:0; color:#e0a800; }


/* Back-to-top button */
#toTopBtn{
  position: fixed;
  right: 16px;
  bottom: 16px;
  width: 44px; height: 44px;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: var(--bg-soft);
  color: var(--text);
  display: grid; place-items: center;
  box-shadow:-4px -4px 8px var(--shadow-hi), 6px 6px 12px var(--shadow-lo);
  cursor: pointer;
  opacity: 0; pointer-events: none; transform: translateY(8px);
  transition: opacity .18s ease, transform .18s ease, box-shadow .18s ease, background .18s ease;
  z-index: 50;
}
#toTopBtn svg{ width: 18px; height: 18px; fill: currentColor; }
#toTopBtn.show{ opacity: 0.95; pointer-events: auto; transform: translateY(0); }
#toTopBtn:hover{
  background: linear-gradient(90deg,var(--accent1),var(--accent2),var(--accent3));
  color: #fff;
  box-shadow:-2px -2px 6px var(--shadow-hi), 4px 4px 10px var(--shadow-lo);
}

/* Toast */
#toast{
  position: fixed;
  left: 50%;
  bottom: 84px;
  transform: translate(-50%, 20px);
  background: var(--bg-soft);
  color: var(--text);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 10px 14px;
  font-size: 14px;
  box-shadow:-4px -4px 8px var(--shadow-hi), 6px 6px 12px var(--shadow-lo);
  opacity: 0; pointer-events: none;
  transition: opacity .18s ease, transform .18s ease;
  z-index: 50;
}
#toast.show{ opacity: 0.98; pointer-events: auto; transform: translate(-50%, 0); }





/* Ajuste do ícone das âncoras */




/* Botão de âncora na identidade do site */
.cat-anchor {
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:24px;
  height:24px;
  margin-left:8px;
  border-radius:10px;
  border:1px solid var(--border);
  background: var(--bg-soft);
  color: var(--text);
  box-shadow:-3px -3px 6px var(--shadow-hi), 4px 4px 8px var(--shadow-lo);
  transition: background .18s ease, color .18s ease, transform .15s ease, box-shadow .15s ease;
  cursor:pointer;
}
.cat-anchor:hover {
  background: linear-gradient(90deg,var(--accent1),var(--accent2),var(--accent3));
  color:#fff;
  transform: translateY(-1px);
  box-shadow:-2px -2px 5px var(--shadow-hi), 3px 3px 7px var(--shadow-lo);
}
.cat-anchor svg {
  width:14px;
  height:14px;
  display:block;
}



/* === Microtooltips for toggle buttons (theme & language) === */
.controls .toggle{ position: relative; }

/* Tooltip bubble */
.controls .toggle::after{
  content: attr(aria-label);
  position: absolute;
  top: calc(100% + 8px);  /* expand downward */
  left: 50%;
  transform: translate(-50%, -4px);
  background: var(--bg-soft);
  color: var(--text);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 6px 8px;
  font-size: 11px;
  line-height: 1.2;
  white-space: nowrap;
  box-shadow: -3px -3px 6px var(--shadow-hi), 5px 5px 10px var(--shadow-lo);
  opacity: 0;
  pointer-events: none;
  transition: opacity .15s ease, transform .15s ease;
  z-index: 60;
}

/* Tooltip arrow */
.controls .toggle::before{
  content: "";
  position: absolute;
  top: calc(100% + 4px);
  left: 50%;
  transform: translateX(-50%);
  width: 8px; height: 8px;
  background: var(--bg-soft);
  border-left: 1px solid var(--border);
  border-top: 1px solid var(--border);
  rotate: 45deg;
  box-shadow: -2px -2px 3px var(--shadow-hi);
  opacity: 0;
  transition: opacity .15s ease;
  z-index: 59;
}

/* Show on hover or keyboard focus */
.controls .toggle:hover::after,
.controls .toggle:focus-visible::after{
  opacity: 1;
  transform: translate(-50%, 0);
}
.controls .toggle:hover::before,
.controls .toggle:focus-visible::before{
  opacity: 1;
}

/* Only show for buttons with an aria-label (prevents empty tooltips) */
.controls .toggle[aria-label=""]::after,
.controls .toggle[aria-label=""]::before{
  display: none;
}


/* Categories gradient titles */
.category h2 .cat-title{
  background: linear-gradient(90deg,var(--accent1),var(--accent2),var(--accent3));
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}
:root[data-theme="light"] .category h2 .cat-title{
  background: linear-gradient(90deg,var(--accent1),var(--accent2),var(--accent3));
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}



body.side-open .sidepush{ width: var(--side-w-open); }
/* ===== Side Push Sidebar ===== */
/* Sidebar arrow toggle button */
.side-toggle{
  display:inline-flex; align-items:center; justify-content:center;
  width: 36px; height: 36px; border-radius: 10px;
  border: 1px solid var(--border);
  background: var(--bg-soft); color: var(--text); cursor:pointer;
  box-shadow: -2px -2px 4px var(--shadow-hi), 3px 3px 6px var(--shadow-lo);
  font-size: 16px; line-height: 1;
}
.side-toggle:active{ transform: translateY(1px); }
.sidepush-top{ display:flex !important; }

:root{
  --side-w-closed: 68px;
  --side-w-open: 248px;
  --side-bg: color-mix(in oklab, var(--bg) 85%, black 15%);
  --side-border: var(--border-strong);
}
.sidepush{
  position: fixed; inset: 0 auto 0 0;
  width: var(--side-w-closed); background: var(--side-bg);
  border-right: 1px solid var(--side-border);
  z-index: 50;
  display: flex; flex-direction: column;
  transition: width .22s ease;
  box-shadow: 0 0 0 1px var(--border-strong);
}
.sidepush-top{
  position: sticky; top: 0;
  display:flex; align-items:center; gap:10px;
  height: 56px; padding: 0 12px;
  border-bottom: 1px solid var(--border);
  background: color-mix(in oklab, var(--side-bg) 92%, transparent);
  backdrop-filter: blur(4px);
}
.sidepush-title{
  font-weight:700; font-size:14px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
  opacity:.85;
}
.hamburger{
  display:inline-flex; align-items:center; justify-content:center;
  width: 36px; height: 36px; border-radius: 10px;
  border: 1px solid var(--border);
  background: var(--bg-soft); color: var(--text); cursor:pointer;
  box-shadow: -2px -2px 4px var(--shadow-hi), 3px 3px 6px var(--shadow-lo);
}
.hamburger:active{ transform: translateY(1px); }

/* Scroll area and dark scrollbar */
.sidepush-scroll{
  overflow: auto; padding: 10px 8px 16px; flex: 1 1 auto;
}
.sidepush-scroll::-webkit-scrollbar{ width: 10px; }
.sidepush-scroll::-webkit-scrollbar-track{ background: color-mix(in oklab, var(--side-bg) 80%, black 20%); }
.sidepush-scroll::-webkit-scrollbar-thumb{ background: color-mix(in oklab, var(--bg) 40%, white 5%); border-radius: 8px; }
.sidepush-scroll{ scrollbar-color: color-mix(in oklab, var(--bg) 40%, white 5%) color-mix(in oklab, var(--side-bg) 80%, black 20%); scrollbar-width: thin; }

.sidepush-menu{ list-style:none; margin:8px 0 0; padding:0; display:flex; flex-direction:column; gap:4px; }
.sidepush-item{
  display:flex; align-items:center; gap:10px;
  height: 40px; padding: 0 10px;
  border-radius: 12px; cursor:pointer;
  color: var(--text); text-decoration:none;
  border: 1px solid transparent;
}
.sidepush-item .ico{ width: 18px; height: 18px; display:inline-flex; align-items:center; justify-content:center; opacity:.9; }
.sidepush-item .label{ font-size: 13px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.sidepush-item:hover{
  background: color-mix(in oklab, var(--bg) 86%, var(--accent1) 4%);
  border-color: var(--border);
}
.sidepush-item.active{ background: color-mix(in oklab, var(--bg) 80%, var(--accent2) 6%); border-color: var(--border); }

/* Push effect */
.push-wrap{ margin-left: 0; transition: margin-left .22s ease; }
body.side-open 
body.side-open /* When closed, hide labels; when open, show labels */
.sidepush .label{ display:none; }
body.side-open .side-open 

/* Keep main content centered by compensating left gutter */
.push-wrap .container{ max-width: 1100px; margin-left: auto; margin-right: auto; }

@media (max-width: 800px){
  :root{ --side-w-open: 84vw; }
}


/* Material Symbols */


/* Hide sidebar brand when expanded */
body.side-open .sidepush-title{ display:none; }


/* Remove sidebar top bar (title + hamburger) */
/* removed: sidebar top was hidden */

/* Consistent anchor offset under sticky header */
section.category{ scroll-margin-top: 90px; }

/* removed: desktop force-open; now controlled by body.side-open */ body  }

/* Sidebar collapsed/expanded label visibility and width */
.sidepush .label{ display:none; }
/* removed duplicate closed width */
body.side-open 
body.side-open 

body.side-open 

body.side-open /* removed stray open width */

body.side-open .sidepush .label{ display:inline; }

body.side-open .push-wrap{ margin-left: var(--side-w-open); }


/* === FIXES 2025-09-10: Sidepush responsive, arrow button effect removed, lighter light theme === */

/* Lighter sidebar in light theme (near white) */
:root[data-theme="light"] {
  /* very light neutral background close to white */
  --side-bg: color-mix(in oklab, white 96%, #e7ecf4 4%);
  --side-border: color-mix(in oklab, #cfd7e4 80%, #000 20%);
}

/* Ensure variables exist and adapt on small screens */
:root {
  --side-w-closed: 68px;
  --side-w-open: 248px;
}
@media (max-width: 800px) {
  :root { --side-w-open: 84vw; }
}

/* Sidebar base + open width */
.sidepush{
  position: fixed;
  inset: 0 auto 0 0;
  width: var(--side-w-closed);
  background: var(--side-bg);
  border-right: 1px solid var(--side-border);
  z-index: 50;
  display: flex;
  flex-direction: column;
  transition: width .22s ease;
}
body.side-open .sidepush{ width: var(--side-w-open); }

/* Push content to the right when open; snap back when closed */
.push-wrap{ margin-left: var(--side-w-closed); transition: margin-left .22s ease; }
body.side-open .push-wrap{ margin-left: var(--side-w-open); }

/* Show/hide labels correctly based on state */
.sidepush .label{ display:none; }
body.side-open .sidepush .label{ display:inline; }

/* Remove any "press" wobble on the arrow toggle */
.side-toggle{ transition: none; }
.side-toggle:active{ transform: none; }

/* Extra safety: prevent the arrow from rotating or shifting on hover */
.side-toggle:hover{ transform: none; }


/* === 2025-09-10 Responsive sidebar with media queries (desktop push, mobile overlay) === */

/* Desktop defaults already set above. Adjust open width on medium screens */
@media (max-width: 1024px) {
  :root { --side-w-open: min(44vw, 320px); }
}

/* Mobile: switch to overlay (no push) */
@media (max-width: 768px) {
  /* disable body push on mobile */
  .push-wrap{ margin-left: var(--side-w-closed); transition: margin-left .22s ease; }
body.side-open .push-wrap{ margin-left: var(--side-w-open); }

  /* Drawer behavior via translateX */
  .sidepush{
    width: min(92vw, 360px);
    transform: translateX(-100%);
    transition: transform .22s ease;
    box-shadow: none;
  }
  body.side-open .sidepush{
    transform: translateX(0);
    box-shadow: 0 0 0 1px var(--side-border), 0 18px 44px rgba(0,0,0,.28);
  }

  /* Avoid layout jank while closed */
  body:not(.side-open) .sidepush{ will-change: transform; }

  /* Prevent background scroll when open */
  body.side-open{ overflow: hidden; }

  /* Backdrop/scrim shown only on mobile */
  .side-scrim{
    display: block;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,.35);
    opacity: 0;
    pointer-events: none;
    transition: opacity .18s ease;
    z-index: 45; /* below sidebar (50), above content */
  }
  body.side-open .side-scrim{
    opacity: 1;
    pointer-events: auto;
  }

  /* Keep labels visible inside the open drawer */
  .sidepush .label{ display: none; }
  body.side-open .sidepush .label{ display: inline; }
}

/* Hide scrim by default on larger screens */
.side-scrim{ display: none; }

/* Motion safety */
@media (prefers-reduced-motion: reduce){
  .sidepush, .side-scrim, .push-wrap{ transition: none !important; }
}


/* === 2025-09-10 Tablet portrait = overlay (menu "some"), landscape = push === */

/* Portrait tablets up to 1024px use overlay like mobile */
@media (max-width: 1024px) and (orientation: portrait) {
  /* no push on portrait tablet */
  .push-wrap{ margin-left: var(--side-w-closed); transition: margin-left .22s ease; }
body.side-open .push-wrap{ margin-left: var(--side-w-open); }

  .sidepush{
    width: min(92vw, 380px);
    transform: translateX(-100%);
    transition: transform .22s ease;
    box-shadow: none;
  }
  body.side-open .sidepush{
    transform: translateX(0);
    box-shadow: 0 0 0 1px var(--side-border), 0 18px 44px rgba(0,0,0,.28);
  }

  /* scrim active in portrait tablet */
  .side-scrim{
    display: block;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,.35);
    opacity: 0;
    pointer-events: none;
    transition: opacity .18s ease;
    z-index: 45;
  }
  body.side-open .side-scrim{
    opacity: 1;
    pointer-events: auto;
  }

  /* labels only when open */
  .sidepush .label{ display: none; }
  body.side-open .sidepush .label{ display: inline; }
}

/* Remove visual border from the toggle arrow; keep focus outline for a11y */
.side-toggle{
  border: none !important;
  background: transparent !important;
  box-shadow: none !important;
}
.side-toggle:focus-visible{ outline: 2px solid var(--side-border); outline-offset: 2px; }






/* === 2025-09-10: Updated gradients with lighter/rosier tones === */
.sidepush{
  background:
    linear-gradient(to bottom, rgba(30,40,60,0.45), rgba(40,30,40,0.45)),
    var(--side-bg);
}

:root[data-theme="light"] .sidepush{
  background:
    linear-gradient(to bottom, rgba(100,160,255,0.20), rgba(230,90,150,0.20)),
    var(--side-bg);
}
/* === end gradients === */



/* Sombra leve nos ícones da barra lateral */
.cat-ico {
  text-shadow: 1px 1px 2px rgba(0,0,0,0.4);
}


/* Ícones da barra lateral */
.ico {
  text-shadow: 1px 1px 2px rgba(0,0,0,0.6);
}
:root[data-theme="light"] .ico {
  text-shadow: 1px 1px 2px rgba(150,150,150,0.4);
}


/* === 2025-09-11: Sidebar selected item styled like .controls (neumorphic) === */
.sidepush-menu .sidepush-item.active{
  background: var(--bg-soft);
  color: var(--text);
  border: 1px solid var(--border);
  box-shadow: -3px -3px 6px var(--shadow-hi), 5px 5px 10px var(--shadow-lo);
  transform: translateY(0); /* keep steady */
}
.sidepush-menu .sidepush-item.active .label{ opacity: 1; }
.sidepush-menu .sidepush-item:focus-visible{
  outline: 2px solid var(--border);
  outline-offset: 2px;
  border-radius: 12px;
}


/* === 2025-09-11: Neumorphism fine-tune (large blocks) ===
   Goal: light & shadow a bit closer (smaller offset/blur) on big surfaces.
   Small elements keep current values. */
input[type="search"],
select{
  box-shadow: -2px -2px 4px var(--shadow-hi), 3px 3px 6px var(--shadow-lo);
}

.card{
  box-shadow: -2px -2px 4px var(--shadow-hi), 3px 3px 6px var(--shadow-lo);
}
.card:hover{
  box-shadow: -3px -3px 6px var(--shadow-hi), 5px 5px 10px var(--shadow-lo);
}

.sidepush-menu .sidepush-item.active{
  box-shadow: -2px -2px 4px var(--shadow-hi), 3px 3px 6px var(--shadow-lo);
}

/* Keep tooltip/btn etc. as-is (small items) */

@keyframes logoFocus{
  0% { filter: blur(10px); opacity: 0; }
  100% { filter: blur(0); opacity: 1; }
}

@keyframes logoShine{
  0% { background-position: -60% 0, 0 0; }
  100% { background-position: 160% 0, 0 0; }
}


/* --- Fix unwanted left white space introduced by previous patch --- */
html, body {
  margin-left: 0 !important;
  padding-left: 0 !important;
}


/* Tighten space between footer lead and bookmark/share note */
.footer-lead{ margin: 0 0 4px 0; }
.footer-note{ margin: 2px 0 0 0; }

/* Separator next to counter */
.footer-count .sep{ margin: 0 6px; opacity: .6; }

/* PWA install button */
.pwa-install{position:fixed;right:16px;bottom:16px;padding:.6rem .9rem;border-radius:14px;border:1px solid rgba(0,0,0,.12);box-shadow:0 8px 24px rgba(0,0,0,.12);background:color-mix(in srgb, Canvas 96%, transparent);color:CanvasText;cursor:pointer;z-index:9999}
@media (prefers-color-scheme: dark){
  .pwa-install{border-color: rgba(255,255,255,.18);background:color-mix(in srgb, Canvas 88%, transparent)}
}

/* === 2025-09-11 FIX: remove left gap when sidebar overlays on small screens === */
@media (max-width: 768px){
  .push-wrap,
  body.side-open .push-wrap{
    margin-left: 0 !important; /* content should not be pushed on mobile overlay */
  }
}
@media (max-width: 1024px) and (orientation: portrait){
  .push-wrap,
  body.side-open .push-wrap{
    margin-left: 0 !important; /* portrait tablets use overlay, no left gap */
  }
}
